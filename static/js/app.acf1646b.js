(function(e){function t(t){for(var r,c,u=t[0],i=t[1],s=t[2],l=0,d=[];l<u.length;l++)c=u[l],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},c={app:0},a={app:0},o=[];function u(e){return i.p+"static/js/"+({}[e]||e)+"."+{"chunk-0844433a":"fea6ffa0","chunk-2d0d63f1":"39867ca6","chunk-2d0d7875":"7abd38ca","chunk-34d2bbd2":"2ec151ff"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0844433a":1,"chunk-34d2bbd2":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="static/css/"+({}[e]||e)+"."+{"chunk-0844433a":"3b74e51f","chunk-2d0d63f1":"31d6cfe0","chunk-2d0d7875":"31d6cfe0","chunk-34d2bbd2":"2a966b20"}[e]+".css",a=i.p+r,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===a))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===r||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete c[e],f.parentNode.removeChild(f),n(o)},f.href=a;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){c[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",d.name="ChunkLoadError",d.type=r,d.request=c,n[1](d)}a[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue3.0-elementpro-admin/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0496":function(e,t,n){"use strict";n("3ec1")},"11f0":function(e,t,n){},"2a05":function(e,t,n){},"3ec1":function(e,t,n){},"40fa":function(e,t,n){"use strict";n("2a05")},"4e16":function(e,t,n){},a141:function(e,t,n){"use strict";n("4e16")},a6f9:function(e,t,n){"use strict";n("e9f1")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c=n("3fd4");n("7dd6");function a(e,t){var n=Object(r["N"])("router-view");return Object(r["E"])(),Object(r["j"])(n)}n("fcd5");const o={};o.render=a;var u=o,i=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),s=Object(r["gb"])("data-v-42094b0c"),l=s((function(e,t,n,c,a,o){var u=Object(r["N"])("v-header"),i=Object(r["N"])("el-header"),l=Object(r["N"])("v-sidebar"),d=Object(r["N"])("el-aside"),f=Object(r["N"])("v-app-main"),b=Object(r["N"])("el-main"),p=Object(r["N"])("el-container");return Object(r["E"])(),Object(r["j"])("div",null,[Object(r["n"])(p,null,{default:s((function(){return[Object(r["n"])(i,null,{default:s((function(){return[Object(r["n"])(u)]})),_:1}),Object(r["n"])(p,{class:"no-header-content"},{default:s((function(){return[Object(r["n"])(d,null,{default:s((function(){return[Object(r["n"])(l)]})),_:1}),Object(r["n"])(b,null,{default:s((function(){return[Object(r["n"])(f)]})),_:1})]})),_:1})]})),_:1})])})),d=n("5530"),f=Object(r["gb"])("data-v-4f56ff68");Object(r["H"])("data-v-4f56ff68");var b={class:"header-wrap"},p={class:"header-left"},m=Object(r["m"])(" 管理系统 "),j={class:"header-right"},h={class:"el-dropdown-link"},O=Object(r["n"])("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),v=Object(r["m"])("个人中心"),g=Object(r["m"])("退出登录");Object(r["F"])();var k=f((function(e,t,n,c,a,o){var u=Object(r["N"])("el-avatar"),i=Object(r["N"])("el-dropdown-item"),s=Object(r["N"])("el-dropdown-menu"),l=Object(r["N"])("el-dropdown");return Object(r["E"])(),Object(r["j"])("div",b,[Object(r["n"])("div",p,[Object(r["n"])("i",{class:c.collapseClass,onClick:t[1]||(t[1]=function(){return c.handleCollapse&&c.handleCollapse.apply(c,arguments)})},null,2),m]),Object(r["n"])("div",j,[Object(r["n"])(u,{src:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80"}),Object(r["n"])(l,{trigger:"click"},{dropdown:f((function(){return[Object(r["n"])(s,null,{default:f((function(){return[Object(r["n"])(i,null,{default:f((function(){return[v]})),_:1}),Object(r["n"])(i,{divided:"",onClick:c.logout},{default:f((function(){return[g]})),_:1},8,["onClick"])]})),_:1})]})),default:f((function(){return[Object(r["n"])("span",h,[Object(r["m"])(Object(r["R"])(c.userName),1),O])]})),_:1})])])})),w=n("1da1"),y=(n("96cf"),n("5502")),_={setup:function(){var e=Object(y["b"])(),t=Object(i["d"])(),n=Object(i["c"])(),c=Object(r["h"])((function(){return e.state.user.userName})),a=function(){var r=Object(w["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.dispatch("logout");case 2:t.push({path:"/login",query:{redirect:n.path}});case 3:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),o=Object(r["I"])({count:0}),u=function(){e.commit("handllCollapse",!e.state.collapse)},s=Object(r["h"])((function(){return e.state.collapse?"el-icon-s-unfold":"el-icon-s-fold"}));return Object(d["a"])(Object(d["a"])({},Object(r["U"])(o)),{},{handleCollapse:u,collapseClass:s,logout:a,userName:c})}};n("a141");_.render=k,_.__scopeId="data-v-4f56ff68";var N=_,E=Object(r["gb"])("data-v-4922dc9a");Object(r["H"])("data-v-4922dc9a");var x={class:"sidebar"};Object(r["F"])();var C=E((function(e,t,n,c,a,o){var u=Object(r["N"])("sidebar-item"),i=Object(r["N"])("el-menu");return Object(r["E"])(),Object(r["j"])("div",x,[Object(r["n"])(i,{"default-active":c.route.path,class:"sidebar-el-menu","background-color":"#324157","text-color":"#fff","active-text-color":"#20a0ff",collapse:c.isCollapse,router:""},{default:E((function(){return[(Object(r["E"])(!0),Object(r["j"])(r["b"],null,Object(r["L"])(c.permissionRoutes,(function(e){return Object(r["E"])(),Object(r["j"])(u,{key:e.path,item:e,"base-path":e.path},null,8,["item","base-path"])})),128))]})),_:1},8,["default-active","collapse"])])})),R=(n("99af"),Object(r["gb"])("data-v-a67672f0"));Object(r["H"])("data-v-a67672f0");var P={key:0},I=Object(r["n"])("i",{class:"el-icon-menu"},null,-1);Object(r["F"])();var S=R((function(e,t,n,c,a,o){var u=Object(r["N"])("el-menu-item");return n.item.meta&&n.item.meta.hidden?Object(r["k"])("",!0):(Object(r["E"])(),Object(r["j"])("div",P,[n.item.children?(Object(r["E"])(),Object(r["j"])(r["b"],{key:0},[1!=n.item.children.length||n.item.children[0].meta.hidden?Object(r["k"])("",!0):(Object(r["E"])(),Object(r["j"])(u,{key:0,index:"".concat("/"===n.basePath?"":n.basePath,"/").concat(n.item.children[0].path)},{title:R((function(){return[Object(r["m"])(Object(r["R"])(n.item.children[0].meta.title),1)]})),default:R((function(){return[Object(r["n"])("i",{class:n.item.children[0].meta.icon||"el-icon-menu"},null,2)]})),_:1},8,["index"]))],64)):(Object(r["E"])(),Object(r["j"])(u,{key:1,index:n.item.path},{title:R((function(){return[Object(r["m"])(Object(r["R"])(n.item.meta.title),1)]})),default:R((function(){return[I]})),_:1},8,["index"]))]))})),L={name:"SidebarItem",props:{item:{type:Object,default:function(){}},basePath:{type:String,default:""}},setup:function(){var e=Object(r["I"])({count:0});return Object(d["a"])({},Object(r["U"])(e))}};L.render=S,L.__scopeId="data-v-a67672f0";var T=L,U={components:{SidebarItem:T},setup:function(){var e=Object(i["c"])(),t=Object(r["I"])({count:0}),n=Object(y["b"])(),c=Object(r["h"])((function(){return n.state.collapse})),a=Object(r["h"])((function(){return n.state.permissionRoutes.routes}));return Object(d["a"])(Object(d["a"])({},Object(r["U"])(t)),{},{isCollapse:c,permissionRoutes:a,route:e})}};n("a6f9");U.render=C,U.__scopeId="data-v-4922dc9a";var A=U,H=Object(r["gb"])("data-v-6f72aa04");Object(r["H"])("data-v-6f72aa04");var M={class:"main-wrap"};Object(r["F"])();var F=H((function(e,t,n,c,a,o){var u=Object(r["N"])("router-view");return Object(r["E"])(),Object(r["j"])("div",M,[Object(r["n"])(u,null,{default:H((function(e){var t=e.Component;return[Object(r["n"])(r["e"],{name:"move",mode:"out-in"},{default:H((function(){return[(Object(r["E"])(),Object(r["j"])(r["c"],{include:c.tagsList},[(Object(r["E"])(),Object(r["j"])(Object(r["P"])(t)))],1032,["include"]))]})),_:2},1024)]})),_:1})])})),D={setup:function(){var e=Object(r["I"])({count:0}),t=Object(r["h"])((function(){return"dashboard"}));return Object(d["a"])(Object(d["a"])({},Object(r["U"])(e)),{},{tagsList:t})}};n("0496");D.render=F,D.__scopeId="data-v-6f72aa04";var q=D,B={components:{vHeader:N,vSidebar:A,vAppMain:q},setup:function(){var e=Object(r["I"])({count:0});return Object(d["a"])({},Object(r["U"])(e))}};n("40fa");B.render=l,B.__scopeId="data-v-42094b0c";var J=B,V=[{path:"/",name:"Home",component:J,redirect:"/dashboard",children:[{path:"dashboard",component:function(){return n.e("chunk-2d0d63f1").then(n.bind(null,"7277"))},name:"Dashboard",meta:{title:"Dashboard",icon:"el-icon-s-home"}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-0844433a").then(n.bind(null,"d9c9"))},meta:{hidden:!0}},{path:"/404",name:"404",component:function(){return n.e("chunk-34d2bbd2").then(n.bind(null,"1db4"))},meta:{hidden:!0}}],K=[{path:"/permission",name:"Permission",component:J,redirect:"/permission/line",meta:{title:"Permission",icon:"lock",roles:["admin","editor"]},children:[{path:"line",component:function(){return n.e("chunk-2d0d7875").then(n.bind(null,"76cc"))},name:"LineChart",meta:{title:"LineChart",roles:["admin"]}}]},{path:"/:pathMatch(.*)*",redirect:"/404",meta:{hidden:!0,title:"404"}}],z=Object(i["a"])({history:Object(i["b"])("/vue3.0-elementpro-admin/"),routes:V}),G=z,Q=(n("b0c0"),n("a78e")),W=n.n(Q),X="Admin-Token-Vue";function Y(){return W.a.get(X)}function Z(e){return W.a.set(X,e)}function $(){return W.a.remove(X)}var ee={state:function(){return{userName:"devloper",roles:[],token:Y()}},mutations:{setUserName:function(e,t){e.userName=t},setRoles:function(e,t){e.roles=t},setToken:function(e,t){e.token=t}},actions:{login:function(e,t){var n=t.name;return new Promise((function(t){e.commit("setToken",n),Z(n),t(n)}))},logout:function(e){return new Promise((function(t){e.commit("setToken",""),e.commit("setRoles",[]),$(),t("logout")}))},getUserInfo:function(e){var t=[e.state.token];return new Promise((function(n){e.commit("setUserName",e.state.token),e.commit("setRoles",t),n(t)}))}},getters:{}},te=n("2909"),ne=(n("caad"),n("2532"),n("159b"),function(e,t){return!t.meta||!t.meta.roles||e.some((function(e){return t.meta.roles.includes(e)}))}),re=function e(t,n){var r=[];return t.forEach((function(t){var c=Object(d["a"])({},t);ne(n,c)&&(c.children&&(c.children=e(c.children,n)),r.push(c))})),r},ce={state:function(){return{addRoutes:[],routes:[]}},mutations:{setRoutes:function(e,t){e.routes=[].concat(Object(te["a"])(V),Object(te["a"])(t)),e.addRoutes=t}},actions:{generateRoutes:function(e,t){return new Promise((function(n){var r;r=t.includes("admin")?K:re(K,t),e.commit("setRoutes",r),n(r)}))}},getters:{}},ae=Object(y["a"])({state:{collapse:!1},mutations:{handllCollapse:function(e,t){e.collapse=t}},actions:{},modules:{user:ee,permissionRoutes:ce}}),oe=n("323e"),ue=n.n(oe),ie=(n("a5d8"),["/login"]);G.beforeEach(function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,n,r){var c,a,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ue.a.start(),c=Y(),!c){e.next=26;break}if("/login"!==t.path){e.next=8;break}G.push({path:"/"}),ue.a.done(),e.next=24;break;case 8:if(a=ae.state.user.roles.length>0,console.log(a),!a){e.next=14;break}r(),e.next=24;break;case 14:return e.next=16,ae.dispatch("getUserInfo");case 16:return o=e.sent,e.next=19,ae.dispatch("generateRoutes",o);case 19:u=e.sent,console.log(u),u.forEach((function(e){G.addRoute(e)})),r(Object(d["a"])(Object(d["a"])({},t),{},{replace:!0})),ue.a.done();case 24:e.next=29;break;case 26:console.log("-------------------"),console.log(t),ie.includes(t.path)?(console.log("white"),r(),ue.a.done()):(r("/login?redirect=".concat(t.path)),ue.a.done());case 29:console.log(ae.state);case 30:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),G.afterEach((function(){ue.a.done()})),Object(r["i"])(u).use(ae).use(G).use(c["b"]).mount("#app")},e9f1:function(e,t,n){},fcd5:function(e,t,n){"use strict";n("11f0")}});
//# sourceMappingURL=app.acf1646b.js.map