(function(e){function t(t){for(var c,r,u=t[0],i=t[1],s=t[2],l=0,d=[];l<u.length;l++)r=u[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,r=1;r<n.length;r++){var u=n[r];0!==a[u]&&(c=!1)}c&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},r={app:0},a={app:0},o=[];function u(e){return i.p+"static/js/"+({}[e]||e)+"."+{"chunk-0fad73f1":"9fb210dc","chunk-16a51a9c":"41e3d97f","chunk-2d0d7875":"ee9ad7ba","chunk-45e76d43":"b6f308ee"}[e]+".js"}function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-0fad73f1":1,"chunk-16a51a9c":1,"chunk-45e76d43":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var c="static/css/"+({}[e]||e)+"."+{"chunk-0fad73f1":"2a966b20","chunk-16a51a9c":"3b74e51f","chunk-2d0d7875":"31d6cfe0","chunk-45e76d43":"147776d5"}[e]+".css",a=i.p+c,o=document.getElementsByTagName("link"),u=0;u<o.length;u++){var s=o[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===c||l===a))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===c||l===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var c=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=c,delete r[e],f.parentNode.removeChild(f),n(o)},f.href=a;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){r[e]=0})));var c=a[e];if(0!==c)if(c)t.push(c[2]);else{var o=new Promise((function(t,n){c=a[e]=[t,n]}));t.push(c[2]=o);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var c=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+c+": "+r+")",d.name="ChunkLoadError",d.type=c,d.request=r,n[1](d)}a[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue3.0-elementpro-admin/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"19c3":function(e,t,n){"use strict";n("694e")},"5e10":function(e,t,n){},"694e":function(e,t,n){},"6ded":function(e,t,n){"use strict";n("c46b")},"7e9a":function(e,t,n){},a141:function(e,t,n){"use strict";n("7e9a")},a6f9:function(e,t,n){"use strict";n("d35e")},c46b:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23"),r=n("3fd4");n("7dd6");function a(e,t){var n=Object(c["N"])("router-view");return Object(c["E"])(),Object(c["j"])(n)}n("fcd5");const o={};o.render=a;var u=o,i=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),s=Object(c["gb"])("data-v-0c6f9d79"),l=s((function(e,t,n,r,a,o){var u=Object(c["N"])("v-header"),i=Object(c["N"])("el-header"),l=Object(c["N"])("v-sidebar"),d=Object(c["N"])("el-aside"),f=Object(c["N"])("v-app-main"),b=Object(c["N"])("el-main"),p=Object(c["N"])("el-container");return Object(c["E"])(),Object(c["j"])("div",null,[Object(c["n"])(p,null,{default:s((function(){return[Object(c["n"])(i,null,{default:s((function(){return[Object(c["n"])(u)]})),_:1}),Object(c["n"])(p,{class:"no-header-content"},{default:s((function(){return[Object(c["n"])(d,null,{default:s((function(){return[Object(c["n"])(l)]})),_:1}),Object(c["n"])(b,null,{default:s((function(){return[Object(c["n"])(f)]})),_:1})]})),_:1})]})),_:1})])})),d=n("5530"),f=Object(c["gb"])("data-v-4f56ff68");Object(c["H"])("data-v-4f56ff68");var b={class:"header-wrap"},p={class:"header-left"},m=Object(c["m"])(" 管理系统 "),j={class:"header-right"},h={class:"el-dropdown-link"},O=Object(c["n"])("i",{class:"el-icon-arrow-down el-icon--right"},null,-1),v=Object(c["m"])("个人中心"),g=Object(c["m"])("退出登录");Object(c["F"])();var k=f((function(e,t,n,r,a,o){var u=Object(c["N"])("el-avatar"),i=Object(c["N"])("el-dropdown-item"),s=Object(c["N"])("el-dropdown-menu"),l=Object(c["N"])("el-dropdown");return Object(c["E"])(),Object(c["j"])("div",b,[Object(c["n"])("div",p,[Object(c["n"])("i",{class:r.collapseClass,onClick:t[1]||(t[1]=function(){return r.handleCollapse&&r.handleCollapse.apply(r,arguments)})},null,2),m]),Object(c["n"])("div",j,[Object(c["n"])(u,{src:"https://wpimg.wallstcn.com/f778738c-e4f8-4870-b634-56703b4acafe.gif?imageView2/1/w/80/h/80"}),Object(c["n"])(l,{trigger:"click"},{dropdown:f((function(){return[Object(c["n"])(s,null,{default:f((function(){return[Object(c["n"])(i,null,{default:f((function(){return[v]})),_:1}),Object(c["n"])(i,{divided:"",onClick:r.logout},{default:f((function(){return[g]})),_:1},8,["onClick"])]})),_:1})]})),default:f((function(){return[Object(c["n"])("span",h,[Object(c["m"])(Object(c["R"])(r.userName),1),O])]})),_:1})])])})),w=n("1da1"),y=(n("96cf"),n("5502")),_={setup:function(){var e=Object(y["b"])(),t=Object(i["d"])(),n=Object(i["c"])(),r=Object(c["h"])((function(){return e.state.user.userName})),a=function(){var c=Object(w["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,e.dispatch("logout");case 2:t.push({path:"/login",query:{redirect:n.path}});case 3:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),o=Object(c["I"])({count:0}),u=function(){e.commit("handllCollapse",!e.state.collapse)},s=Object(c["h"])((function(){return e.state.collapse?"el-icon-s-unfold":"el-icon-s-fold"}));return Object(d["a"])(Object(d["a"])({},Object(c["U"])(o)),{},{handleCollapse:u,collapseClass:s,logout:a,userName:r})}};n("a141");_.render=k,_.__scopeId="data-v-4f56ff68";var N=_,E=Object(c["gb"])("data-v-4922dc9a");Object(c["H"])("data-v-4922dc9a");var x={class:"sidebar"};Object(c["F"])();var C=E((function(e,t,n,r,a,o){var u=Object(c["N"])("sidebar-item"),i=Object(c["N"])("el-menu");return Object(c["E"])(),Object(c["j"])("div",x,[Object(c["n"])(i,{"default-active":r.route.path,class:"sidebar-el-menu","background-color":"#324157","text-color":"#fff","active-text-color":"#20a0ff",collapse:r.isCollapse,router:""},{default:E((function(){return[(Object(c["E"])(!0),Object(c["j"])(c["b"],null,Object(c["L"])(r.permissionRoutes,(function(e){return Object(c["E"])(),Object(c["j"])(u,{key:e.path,item:e,"base-path":e.path},null,8,["item","base-path"])})),128))]})),_:1},8,["default-active","collapse"])])})),R=(n("99af"),Object(c["gb"])("data-v-a67672f0"));Object(c["H"])("data-v-a67672f0");var P={key:0},I=Object(c["n"])("i",{class:"el-icon-menu"},null,-1);Object(c["F"])();var S=R((function(e,t,n,r,a,o){var u=Object(c["N"])("el-menu-item");return n.item.meta&&n.item.meta.hidden?Object(c["k"])("",!0):(Object(c["E"])(),Object(c["j"])("div",P,[n.item.children?(Object(c["E"])(),Object(c["j"])(c["b"],{key:0},[1!=n.item.children.length||n.item.children[0].meta.hidden?Object(c["k"])("",!0):(Object(c["E"])(),Object(c["j"])(u,{key:0,index:"".concat("/"===n.basePath?"":n.basePath,"/").concat(n.item.children[0].path)},{title:R((function(){return[Object(c["m"])(Object(c["R"])(n.item.children[0].meta.title),1)]})),default:R((function(){return[Object(c["n"])("i",{class:n.item.children[0].meta.icon||"el-icon-menu"},null,2)]})),_:1},8,["index"]))],64)):(Object(c["E"])(),Object(c["j"])(u,{key:1,index:n.item.path},{title:R((function(){return[Object(c["m"])(Object(c["R"])(n.item.meta.title),1)]})),default:R((function(){return[I]})),_:1},8,["index"]))]))})),L={name:"SidebarItem",props:{item:{type:Object,default:function(){}},basePath:{type:String,default:""}},setup:function(){var e=Object(c["I"])({count:0});return Object(d["a"])({},Object(c["U"])(e))}};L.render=S,L.__scopeId="data-v-a67672f0";var T=L,U={components:{SidebarItem:T},setup:function(){var e=Object(i["c"])(),t=Object(c["I"])({count:0}),n=Object(y["b"])(),r=Object(c["h"])((function(){return n.state.collapse})),a=Object(c["h"])((function(){return n.state.permissionRoutes.routes}));return Object(d["a"])(Object(d["a"])({},Object(c["U"])(t)),{},{isCollapse:r,permissionRoutes:a,route:e})}};n("a6f9");U.render=C,U.__scopeId="data-v-4922dc9a";var A=U,H=Object(c["gb"])("data-v-24e9c431");Object(c["H"])("data-v-24e9c431");var M={class:"main-wrap"};Object(c["F"])();var F=H((function(e,t,n,r,a,o){var u=Object(c["N"])("router-view");return Object(c["E"])(),Object(c["j"])("div",M,[Object(c["n"])(u,null,{default:H((function(e){var t=e.Component;return[Object(c["n"])(c["e"],{name:"move",mode:"out-in"},{default:H((function(){return[(Object(c["E"])(),Object(c["j"])(c["c"],{include:r.tagsList},[(Object(c["E"])(),Object(c["j"])(Object(c["P"])(t)))],1032,["include"]))]})),_:2},1024)]})),_:1})])})),D={setup:function(){var e=Object(c["I"])({count:0}),t=Object(c["h"])((function(){return"dashboard"}));return Object(d["a"])(Object(d["a"])({},Object(c["U"])(e)),{},{tagsList:t})}};n("6ded");D.render=F,D.__scopeId="data-v-24e9c431";var q=D,B={components:{vHeader:N,vSidebar:A,vAppMain:q},setup:function(){var e=Object(c["I"])({count:0});return Object(d["a"])({},Object(c["U"])(e))}};n("19c3");B.render=l,B.__scopeId="data-v-0c6f9d79";var J=B,V=[{path:"/",name:"Home",component:J,redirect:"/dashboard",children:[{path:"dashboard",component:function(){return n.e("chunk-45e76d43").then(n.bind(null,"7277"))},name:"Dashboard",meta:{title:"Dashboard",icon:"el-icon-s-home"}}]},{path:"/login",name:"Login",component:function(){return n.e("chunk-16a51a9c").then(n.bind(null,"d9c9"))},meta:{hidden:!0}},{path:"/404",name:"404",component:function(){return n.e("chunk-0fad73f1").then(n.bind(null,"1db4"))},meta:{hidden:!0}}],K=[{path:"/permission",name:"Permission",component:J,redirect:"/permission/line",meta:{title:"Permission",icon:"lock",roles:["admin","editor"]},children:[{path:"line",component:function(){return n.e("chunk-2d0d7875").then(n.bind(null,"76cc"))},name:"LineChart",meta:{title:"LineChart",roles:["admin"]}}]},{path:"/:pathMatch(.*)*",redirect:"/404",meta:{hidden:!0,title:"404"}}],z=Object(i["a"])({history:Object(i["b"])("/vue3.0-elementpro-admin/"),routes:V}),G=z,Q=(n("b0c0"),n("a78e")),W=n.n(Q),X="Admin-Token-Vue";function Y(){return W.a.get(X)}function Z(e){return W.a.set(X,e)}function $(){return W.a.remove(X)}var ee={state:function(){return{userName:"devloper",roles:[],token:Y()}},mutations:{setUserName:function(e,t){e.userName=t},setRoles:function(e,t){e.roles=t},setToken:function(e,t){e.token=t}},actions:{login:function(e,t){var n=t.name;return new Promise((function(t){e.commit("setToken",n),Z(n),t(n)}))},logout:function(e){return new Promise((function(t){e.commit("setToken",""),e.commit("setRoles",[]),$(),t("logout")}))},getUserInfo:function(e){var t=[e.state.token];return new Promise((function(n){e.commit("setUserName",e.state.token),e.commit("setRoles",t),n(t)}))}},getters:{}},te=n("2909"),ne=(n("caad"),n("2532"),n("159b"),function(e,t){return!t.meta||!t.meta.roles||e.some((function(e){return t.meta.roles.includes(e)}))}),ce=function e(t,n){var c=[];return t.forEach((function(t){var r=Object(d["a"])({},t);ne(n,r)&&(r.children&&(r.children=e(r.children,n)),c.push(r))})),c},re={state:function(){return{addRoutes:[],routes:[]}},mutations:{setRoutes:function(e,t){e.routes=[].concat(Object(te["a"])(V),Object(te["a"])(t)),e.addRoutes=t}},actions:{generateRoutes:function(e,t){return new Promise((function(n){var c;c=t.includes("admin")?K:ce(K,t),e.commit("setRoutes",c),n(c)}))}},getters:{}},ae=Object(y["a"])({state:{collapse:!1},mutations:{handllCollapse:function(e,t){e.collapse=t}},actions:{},modules:{user:ee,permissionRoutes:re}}),oe=n("323e"),ue=n.n(oe),ie=(n("a5d8"),["/login"]);G.beforeEach(function(){var e=Object(w["a"])(regeneratorRuntime.mark((function e(t,n,c){var r,a,o,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(ue.a.start(),r=Y(),!r){e.next=26;break}if("/login"!==t.path){e.next=8;break}G.push({path:"/"}),ue.a.done(),e.next=24;break;case 8:if(a=ae.state.user.roles.length>0,console.log(a),!a){e.next=14;break}c(),e.next=24;break;case 14:return e.next=16,ae.dispatch("getUserInfo");case 16:return o=e.sent,e.next=19,ae.dispatch("generateRoutes",o);case 19:u=e.sent,console.log(u),u.forEach((function(e){G.addRoute(e)})),c(Object(d["a"])(Object(d["a"])({},t),{},{replace:!0})),ue.a.done();case 24:e.next=29;break;case 26:console.log("-------------------"),console.log(t),ie.includes(t.path)?(console.log("white"),c(),ue.a.done()):(c("/login?redirect=".concat(t.path)),ue.a.done());case 29:console.log(ae.state);case 30:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}()),G.afterEach((function(){ue.a.done()})),Object(c["i"])(u).use(ae).use(G).use(r["b"]).mount("#app")},d35e:function(e,t,n){},fcd5:function(e,t,n){"use strict";n("5e10")}});
//# sourceMappingURL=app.aafa838b.js.map